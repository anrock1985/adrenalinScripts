
# Changelog

### UPDATE 1.1.0 (17.11.2020)

- Реализована полноценная работа с обще-ботовой памятью ShMem.
- За счёт перехода на ShMem добавлена возможность накатить скрипт на уже запущенные бот-трейны для мониторинга дисконнектов.
- Пофикшена пачка багов.


### UPDATE 1.0.1 (17.11.2020)

- Добавлена возможность иметь разные пароли на аккаунтах.
- Пофикшены жирные баги.
- Рефакторинг.

> ВАЖНО : Изменилась конфига скрипта. Изменился формат файла с описанием
> состава бот-трейна!


# Описание:
 
Персонажи прописанные в файле логинятся по порядку, по одному и включают бота.

При разрывах соединения пытаются перезайти в игру и включить бота.

Можно последовательно запускать несколько трейнов.

Можно накатить скрипт на уже работающие трейны.


# Ограничения текущей версии:

1. В нике\логине\пароле не должно содержаться символа "точка с запятой".
2. Для правильной работы необходимо создать текстовый файл в который прописать состав бот-трейна который будет авто-запускаться и мониториться от дисконнектов.


# Формат записей в файле:
```
НикПерса1;ЛогинАккаунта1;ПарольАккаунта1
НикПерса2;ЛогинАккаунта2;ПарольАккаунта2
НикПерса3;ЛогинАккаунта3;ПарольАккаунта3
НикПерса4;ЛогинАккаунта4;ПарольАккаунта4
```

Без пробелов, без пустой строки в конце.
Первой строкой должен быть прописан перс с которого запускается скрипт.


# Накатывание скрипта на существующие бот-трейны:
- Создаём файл со списком персонажей бот-трейна (первой строкой должен быть персонаж трейна на котором запускается скрипт, назовём его "ведущим").
- Запускаем скрипт на "ведущем" персонаже.
- Трейн инициализируется и записывает данные о персонажах\аккаунтах в память. 
- Начинает мониторить дисконнекты этого трейна.
- Повторить процедуру для каждого запущенного трейна.


# Конфигурация в скрипте:
 
Вся конфига в верхней части скрипта, добавлены поясняющие комменты.
 
**Полный путь к файлу запуска L2 , например**
```
gamePath = 'C:\Games\L2_Interlude_L2KOT.RU\system\l2.exe';
```

**Полный путь к файлу с описанием персонажей трейна (формат файла описан выше), например**
```
trainMembersFile = 'D:\Adrenalin-Data\Rori_Train.txt';
```

**Начало периода рестарта сервера (по вашему времени), например**
```
RestartTime: TDateTime = StrToDateTime('18:58:00');
```

**Продолжительность периода рестарта сервера (ЧЧ:ММ:СС), например 5 минут**
```
RestartDelay: TDateTime = StrToDateTime('00:05:00');
```
